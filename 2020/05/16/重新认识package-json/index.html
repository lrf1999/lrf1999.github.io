<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>é‡æ–°è®¤è¯†package.json | codeLinRçš„åšå®¢</title><meta name="description" content="å‰è¨€ ğŸ¤” åœ¨æ¯ä¸ªé¡¹ç›®çš„æ ¹ç›®å½•ä¸‹é¢ï¼Œä¸€èˆ¬éƒ½ä¼šæœ‰ä¸€ä¸ª package.json æ–‡ä»¶ï¼Œå…¶å®šä¹‰äº†è¿è¡Œé¡¹ç›®æ‰€éœ€è¦çš„å„ç§ä¾èµ–å’Œé¡¹ç›®çš„é…ç½®ä¿¡æ¯ï¼ˆå¦‚åç§°ã€ç‰ˆæœ¬ã€è®¸å¯è¯ç­‰å…ƒæ•°æ®ï¼‰ã€‚ å¤§å¤šæ•°äººå¯¹ package.json æ–‡ä»¶çš„äº†è§£ï¼Œä»…åœç•™åœ¨ï¼š é¡¹ç›®åç§°ã€é¡¹ç›®æ„å»ºç‰ˆæœ¬ã€è®¸å¯è¯çš„å®šä¹‰ï¼› ä¾èµ–å®šä¹‰ï¼ˆåŒ…æ‹¬ dependencies å­—æ®µï¼ŒdevDependencies å­—æ®µï¼‰ï¼› ä½¿ç”¨scriptså­—æ®µæŒ‡å®šè¿è¡Œè„šæœ¬å‘½ä»¤çš„"><meta name="keywords" content="nodejs,package.json,ç¯å¢ƒé…ç½®"><meta name="author" content="codeLinR"><meta name="copyright" content="codeLinR"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="é‡æ–°è®¤è¯†package.json"><meta name="twitter:description" content="å‰è¨€ ğŸ¤” åœ¨æ¯ä¸ªé¡¹ç›®çš„æ ¹ç›®å½•ä¸‹é¢ï¼Œä¸€èˆ¬éƒ½ä¼šæœ‰ä¸€ä¸ª package.json æ–‡ä»¶ï¼Œå…¶å®šä¹‰äº†è¿è¡Œé¡¹ç›®æ‰€éœ€è¦çš„å„ç§ä¾èµ–å’Œé¡¹ç›®çš„é…ç½®ä¿¡æ¯ï¼ˆå¦‚åç§°ã€ç‰ˆæœ¬ã€è®¸å¯è¯ç­‰å…ƒæ•°æ®ï¼‰ã€‚ å¤§å¤šæ•°äººå¯¹ package.json æ–‡ä»¶çš„äº†è§£ï¼Œä»…åœç•™åœ¨ï¼š é¡¹ç›®åç§°ã€é¡¹ç›®æ„å»ºç‰ˆæœ¬ã€è®¸å¯è¯çš„å®šä¹‰ï¼› ä¾èµ–å®šä¹‰ï¼ˆåŒ…æ‹¬ dependencies å­—æ®µï¼ŒdevDependencies å­—æ®µï¼‰ï¼› ä½¿ç”¨scriptså­—æ®µæŒ‡å®šè¿è¡Œè„šæœ¬å‘½ä»¤çš„"><meta name="twitter:image" content="https://gitee.com/lin_risheng/assetOne/raw/master/images/nodejs_logo.jpg"><meta property="og:type" content="article"><meta property="og:title" content="é‡æ–°è®¤è¯†package.json"><meta property="og:url" content="http://linrisheng.cn/2020/05/16/%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86package-json/"><meta property="og:site_name" content="codeLinRçš„åšå®¢"><meta property="og:description" content="å‰è¨€ ğŸ¤” åœ¨æ¯ä¸ªé¡¹ç›®çš„æ ¹ç›®å½•ä¸‹é¢ï¼Œä¸€èˆ¬éƒ½ä¼šæœ‰ä¸€ä¸ª package.json æ–‡ä»¶ï¼Œå…¶å®šä¹‰äº†è¿è¡Œé¡¹ç›®æ‰€éœ€è¦çš„å„ç§ä¾èµ–å’Œé¡¹ç›®çš„é…ç½®ä¿¡æ¯ï¼ˆå¦‚åç§°ã€ç‰ˆæœ¬ã€è®¸å¯è¯ç­‰å…ƒæ•°æ®ï¼‰ã€‚ å¤§å¤šæ•°äººå¯¹ package.json æ–‡ä»¶çš„äº†è§£ï¼Œä»…åœç•™åœ¨ï¼š é¡¹ç›®åç§°ã€é¡¹ç›®æ„å»ºç‰ˆæœ¬ã€è®¸å¯è¯çš„å®šä¹‰ï¼› ä¾èµ–å®šä¹‰ï¼ˆåŒ…æ‹¬ dependencies å­—æ®µï¼ŒdevDependencies å­—æ®µï¼‰ï¼› ä½¿ç”¨scriptså­—æ®µæŒ‡å®šè¿è¡Œè„šæœ¬å‘½ä»¤çš„"><meta property="og:image" content="https://gitee.com/lin_risheng/assetOne/raw/master/images/nodejs_logo.jpg"><meta property="article:published_time" content="2020-05-16T01:27:43.000Z"><meta property="article:modified_time" content="2020-05-16T01:40:35.246Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://linrisheng.cn/2020/05/16/%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86package-json/"><link rel="next" title="Hexoä½¿ç”¨SSHè¿æ¥GitHub" href="http://linrisheng.cn/2020/05/15/Hexo%E4%BD%BF%E7%94%A8SSH%E8%BF%9E%E6%8E%A5GitHub/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">14</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">27</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">10</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å…³äºæˆ‘</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#å‰è¨€-ğŸ¤”"><span class="toc-number">1.</span> <span class="toc-text">å‰è¨€ ğŸ¤”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç”±ç®€å…¥ç¹ï¼Œä¸°å¯Œé¡¹ç›®çš„-package-json"><span class="toc-number">2.</span> <span class="toc-text">ç”±ç®€å…¥ç¹ï¼Œä¸°å¯Œé¡¹ç›®çš„ package.json</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ç®€å•ç‰ˆçš„-package-json"><span class="toc-number">2.1.</span> <span class="toc-text">ç®€å•ç‰ˆçš„ package.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®‰è£…é¡¹ç›®ä¾èµ–ï¼ˆdependencies-amp-devDependenciesï¼‰"><span class="toc-number">2.2.</span> <span class="toc-text">å®‰è£…é¡¹ç›®ä¾èµ–ï¼ˆdependencies &amp; devDependenciesï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç®€åŒ–ç»ˆç«¯å‘½ä»¤ï¼ˆscriptsï¼‰"><span class="toc-number">2.3.</span> <span class="toc-text">ç®€åŒ–ç»ˆç«¯å‘½ä»¤ï¼ˆscriptsï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®šä¹‰é¡¹ç›®å…¥å£ï¼ˆmainï¼‰"><span class="toc-number">2.4.</span> <span class="toc-text">å®šä¹‰é¡¹ç›®å…¥å£ï¼ˆmainï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æŒ‡å®šé¡¹ç›®-node-ç‰ˆæœ¬ï¼ˆenginesï¼‰"><span class="toc-number">2.5.</span> <span class="toc-text">æŒ‡å®šé¡¹ç›® node ç‰ˆæœ¬ï¼ˆenginesï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è‡ªå®šä¹‰å‘½ä»¤ï¼ˆbinï¼‰"><span class="toc-number">2.6.</span> <span class="toc-text">è‡ªå®šä¹‰å‘½ä»¤ï¼ˆbinï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#React-é¡¹ç›®ç›¸å…³"><span class="toc-number">2.7.</span> <span class="toc-text">React é¡¹ç›®ç›¸å…³</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#è®¾ç½®åº”ç”¨æ ¹è·¯å¾„ï¼ˆhomepageï¼‰"><span class="toc-number">2.7.1.</span> <span class="toc-text">è®¾ç½®åº”ç”¨æ ¹è·¯å¾„ï¼ˆhomepageï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å¼€å‘ç¯å¢ƒè§£å†³è·¨åŸŸé—®é¢˜ï¼ˆproxyï¼‰"><span class="toc-number">2.7.2.</span> <span class="toc-text">å¼€å‘ç¯å¢ƒè§£å†³è·¨åŸŸé—®é¢˜ï¼ˆproxyï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ ¹æ®å¼€å‘ç¯å¢ƒé‡‡ç”¨ä¸åŒçš„å…¨å±€å˜é‡å€¼ï¼ˆè‡ªå®šä¹‰å­—æ®µï¼‰"><span class="toc-number">2.7.3.</span> <span class="toc-text">æ ¹æ®å¼€å‘ç¯å¢ƒé‡‡ç”¨ä¸åŒçš„å…¨å±€å˜é‡å€¼ï¼ˆè‡ªå®šä¹‰å­—æ®µï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#æ–¹æ¡ˆä¸€"><span class="toc-number">2.7.3.1.</span> <span class="toc-text">æ–¹æ¡ˆä¸€</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#æ–¹æ¡ˆäºŒ"><span class="toc-number">2.7.3.2.</span> <span class="toc-text">æ–¹æ¡ˆäºŒ</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ€»ç»“-ğŸ‘€"><span class="toc-number">3.</span> <span class="toc-text">æ€»ç»“ ğŸ‘€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å‚è€ƒèµ„æ–™-ğŸ“–"><span class="toc-number">4.</span> <span class="toc-text">å‚è€ƒèµ„æ–™ ğŸ“–</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://gitee.com/lin_risheng/assetOne/raw/master/images/nodejs_logo.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">codeLinRçš„åšå®¢</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å…³äºæˆ‘</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">é‡æ–°è®¤è¯†package.json</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date" title="å‘è¡¨äº 2020-05-16 09:27:43"><i class="fa fa-calendar" aria-hidden="true"></i> å‘è¡¨äº 2020-05-16</time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/nodejs/">nodejs</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h2 id="å‰è¨€-ğŸ¤”"><a href="#å‰è¨€-ğŸ¤”" class="headerlink" title="å‰è¨€ ğŸ¤”"></a>å‰è¨€ ğŸ¤”</h2><ul>
<li>åœ¨æ¯ä¸ªé¡¹ç›®çš„æ ¹ç›®å½•ä¸‹é¢ï¼Œä¸€èˆ¬éƒ½ä¼šæœ‰ä¸€ä¸ª <code>package.json</code> æ–‡ä»¶ï¼Œå…¶å®šä¹‰äº†è¿è¡Œé¡¹ç›®æ‰€éœ€è¦çš„å„ç§ä¾èµ–å’Œé¡¹ç›®çš„é…ç½®ä¿¡æ¯ï¼ˆå¦‚åç§°ã€ç‰ˆæœ¬ã€è®¸å¯è¯ç­‰å…ƒæ•°æ®ï¼‰ã€‚</li>
<li>å¤§å¤šæ•°äººå¯¹ <code>package.json</code> æ–‡ä»¶çš„äº†è§£ï¼Œä»…åœç•™åœ¨ï¼š<ul>
<li>é¡¹ç›®åç§°ã€é¡¹ç›®æ„å»ºç‰ˆæœ¬ã€è®¸å¯è¯çš„å®šä¹‰ï¼›</li>
<li>ä¾èµ–å®šä¹‰ï¼ˆåŒ…æ‹¬ <code>dependencies</code> å­—æ®µï¼Œ<code>devDependencies</code> å­—æ®µï¼‰ï¼›</li>
<li>ä½¿ç”¨<code>scripts</code>å­—æ®µæŒ‡å®šè¿è¡Œè„šæœ¬å‘½ä»¤çš„ <code>npm</code> å‘½ä»¤è¡Œç¼©å†™ã€‚</li>
</ul>
</li>
<li>å…¶å®ï¼Œ<code>package.json</code> çš„ä½œç”¨è¿œä¸æ­¢äºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ–°å¢é…ç½®é¡¹å®ç°æ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œä¸‹é¢å°†å¸¦ä½ é‡æ–°è®¤è¯† <code>package.json</code>ã€‚</li>
</ul>
<h2 id="ç”±ç®€å…¥ç¹ï¼Œä¸°å¯Œé¡¹ç›®çš„-package-json"><a href="#ç”±ç®€å…¥ç¹ï¼Œä¸°å¯Œé¡¹ç›®çš„-package-json" class="headerlink" title="ç”±ç®€å…¥ç¹ï¼Œä¸°å¯Œé¡¹ç›®çš„ package.json"></a>ç”±ç®€å…¥ç¹ï¼Œä¸°å¯Œé¡¹ç›®çš„ package.json</h2><h3 id="ç®€å•ç‰ˆçš„-package-json"><a href="#ç®€å•ç‰ˆçš„-package-json" class="headerlink" title="ç®€å•ç‰ˆçš„ package.json"></a>ç®€å•ç‰ˆçš„ package.json</h3><ul>
<li>å½“æˆ‘ä»¬æ–°å»ºä¸€ä¸ªåç§°ä¸º <code>my-test</code> çš„é¡¹ç›®æ—¶ï¼Œä½¿ç”¨ <code>yarn init -y</code> æˆ– <code>npm init -y</code> å‘½ä»¤åï¼Œåœ¨é¡¹ç›®ç›®å½•ä¸‹ä¼šæ–°å¢ä¸€ä¸ª <code>package.json</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</li>
</ul>
<!-- -->

<pre><code>{
    &quot;name&quot;: &quot;my-test&quot;, # é¡¹ç›®åç§°
    &quot;version&quot;: &quot;1.0.0&quot;, # é¡¹ç›®ç‰ˆæœ¬ï¼ˆæ ¼å¼ï¼šå¤§ç‰ˆæœ¬.æ¬¡è¦ç‰ˆæœ¬.å°ç‰ˆæœ¬ï¼‰
    &quot;description&quot;: &quot;&quot;, # é¡¹ç›®æè¿°
    &quot;main&quot;: &quot;index.js&quot;, # å…¥å£æ–‡ä»¶
    &quot;scripts&quot;: { # æŒ‡å®šè¿è¡Œè„šæœ¬å‘½ä»¤çš„ npm å‘½ä»¤è¡Œç¼©å†™
      &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
    },
    &quot;keywords&quot;: [], # å…³é”®è¯
    &quot;author&quot;: &quot;&quot;, # ä½œè€…
    &quot;license&quot;: &quot;ISC&quot; # è®¸å¯è¯
  }
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>å¯ä»¥çœ‹åˆ°ï¼Œ<code>package.json</code> æ–‡ä»¶çš„å†…å®¹æ˜¯ä¸€ä¸ª <code>JSON</code> å¯¹è±¡ï¼Œå¯¹è±¡çš„æ¯ä¸€ä¸ªæˆå‘˜å°±æ˜¯å½“å‰é¡¹ç›®çš„ä¸€é¡¹é…ç½®ã€‚</li>
</ul>
<h3 id="å®‰è£…é¡¹ç›®ä¾èµ–ï¼ˆdependencies-amp-devDependenciesï¼‰"><a href="#å®‰è£…é¡¹ç›®ä¾èµ–ï¼ˆdependencies-amp-devDependenciesï¼‰" class="headerlink" title="å®‰è£…é¡¹ç›®ä¾èµ–ï¼ˆdependencies &amp; devDependenciesï¼‰"></a>å®‰è£…é¡¹ç›®ä¾èµ–ï¼ˆdependencies &amp; devDependenciesï¼‰</h3><ul>
<li><code>dependencies</code>å­—æ®µæŒ‡å®šäº†é¡¹ç›®è¿è¡Œæ‰€ä¾èµ–çš„æ¨¡å—ï¼ˆç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼‰ï¼Œå¦‚ <code>antd</code>ã€ <code>react</code>ã€ <code>moment</code>ç­‰æ’ä»¶åº“ï¼š<ul>
<li>å®ƒä»¬æ˜¯æˆ‘ä»¬ç”Ÿäº§ç¯å¢ƒæ‰€éœ€è¦çš„ä¾èµ–é¡¹ï¼Œåœ¨æŠŠé¡¹ç›®ä½œä¸ºä¸€ä¸ª <code>npm</code> åŒ…çš„æ—¶å€™ï¼Œç”¨æˆ·å®‰è£… <code>npm</code> åŒ…æ—¶åªä¼šå®‰è£… <code>dependencies</code> é‡Œé¢çš„ä¾èµ–ã€‚</li>
</ul>
</li>
<li><code>devDependencies</code> å­—æ®µæŒ‡å®šäº†é¡¹ç›®å¼€å‘æ‰€éœ€è¦çš„æ¨¡å—ï¼ˆå¼€å‘ç¯å¢ƒä½¿ç”¨ï¼‰ï¼Œå¦‚ <code>webpack</code>ã€<code>typescript</code>ã€<code>babel</code>ç­‰ï¼š<ul>
<li>åœ¨ä»£ç æ‰“åŒ…æäº¤çº¿ä¸Šæ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦è¿™äº›å·¥å…·ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å®ƒæ”¾å…¥ <code>devDependencies</code> ä¸­ã€‚</li>
</ul>
</li>
<li>å¦‚æœä¸€ä¸ªæ¨¡å—ä¸åœ¨ <code>package.json</code> æ–‡ä»¶ä¹‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å•ç‹¬å®‰è£…è¿™ä¸ªæ¨¡å—ï¼Œå¹¶ä½¿ç”¨ç›¸åº”çš„å‚æ•°ï¼Œå°†å…¶å†™å…¥ <code>dependencies</code> å­—æ®µ/ <code>devDependencies</code> å­—æ®µä¸­ï¼š</li>
</ul>
<!-- -->

<pre><code># ä½¿ç”¨ npm
  npm install &lt;package...&gt; --save # å†™å…¥ dependencies å±æ€§
  npm install &lt;package...&gt; --save-dev # å†™å…¥ devDependencies å±æ€§

  # ä½¿ç”¨ yarn
  yarn add &lt;package...&gt; # å†™å…¥ dependencies å±æ€§
  yarn add &lt;package...&gt; --dev # å†™å…¥ devDependencies å±æ€§
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>æœ‰äº† <code>package.json</code> æ–‡ä»¶ï¼Œå¼€å‘ç›´æ¥ä½¿ç”¨ <code>npm install</code> / <code>yarn install</code> å‘½ä»¤ï¼Œå°±ä¼šåœ¨å½“å‰ç›®å½•ä¸­è‡ªåŠ¨å®‰è£…æ‰€éœ€è¦çš„æ¨¡å—ï¼Œå®‰è£…å®Œæˆé¡¹ç›®æ‰€éœ€çš„è¿è¡Œå’Œå¼€å‘ç¯å¢ƒå°±é…ç½®å¥½äº†ã€‚</li>
</ul>
<h3 id="ç®€åŒ–ç»ˆç«¯å‘½ä»¤ï¼ˆscriptsï¼‰"><a href="#ç®€åŒ–ç»ˆç«¯å‘½ä»¤ï¼ˆscriptsï¼‰" class="headerlink" title="ç®€åŒ–ç»ˆç«¯å‘½ä»¤ï¼ˆscriptsï¼‰"></a>ç®€åŒ–ç»ˆç«¯å‘½ä»¤ï¼ˆscriptsï¼‰</h3><ul>
<li><code>scripts</code> å­—æ®µæ˜¯ <code>package.json</code> ä¸­çš„ä¸€ç§å…ƒæ•°æ®åŠŸèƒ½ï¼Œå®ƒæ¥å—ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å±æ€§ä¸ºå¯ä»¥é€šè¿‡ <code>npm run</code>è¿è¡Œçš„è„šæœ¬ï¼Œå€¼ä¸ºå®é™…è¿è¡Œçš„å‘½ä»¤ï¼ˆé€šå¸¸æ˜¯ç»ˆç«¯å‘½ä»¤ï¼‰ï¼Œå¦‚ï¼š</li>
</ul>
<!-- -->

<pre><code>&quot;scripts&quot;: {
    &quot;start&quot;: &quot;node index.js&quot;
  },
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>å°†ç»ˆç«¯å‘½ä»¤æ”¾å…¥ <code>scripts</code> å­—æ®µï¼Œæ—¢å¯ä»¥è®°å½•å®ƒä»¬åˆå¯ä»¥å®ç°è½»æ¾é‡ç”¨ã€‚</li>
</ul>
<h3 id="å®šä¹‰é¡¹ç›®å…¥å£ï¼ˆmainï¼‰"><a href="#å®šä¹‰é¡¹ç›®å…¥å£ï¼ˆmainï¼‰" class="headerlink" title="å®šä¹‰é¡¹ç›®å…¥å£ï¼ˆmainï¼‰"></a>å®šä¹‰é¡¹ç›®å…¥å£ï¼ˆmainï¼‰</h3><ul>
<li><code>main</code> å­—æ®µæ˜¯ <code>package.json</code> ä¸­çš„å¦ä¸€ç§å…ƒæ•°æ®åŠŸèƒ½ï¼Œå®ƒå¯ä»¥ç”¨æ¥æŒ‡å®šåŠ è½½çš„å…¥å£æ–‡ä»¶ã€‚å‡å¦‚ä½ çš„é¡¹ç›®æ˜¯ä¸€ä¸ª <code>npm</code> åŒ…ï¼Œå½“ç”¨æˆ·å®‰è£…ä½ çš„åŒ…åï¼Œ<code>require(&#39;my-module&#39;)</code> è¿”å›çš„æ˜¯ <code>main</code> å­—æ®µä¸­æ‰€åˆ—å‡ºæ–‡ä»¶çš„ <code>module.exports</code> å±æ€§ã€‚</li>
<li>å½“ä¸æŒ‡å®š<code>main</code> å­—æ®µæ—¶ï¼Œé»˜è®¤å€¼æ˜¯æ¨¡å—æ ¹ç›®å½•ä¸‹é¢çš„<code>index.js</code> æ–‡ä»¶ã€‚</li>
</ul>
<h3 id="æŒ‡å®šé¡¹ç›®-node-ç‰ˆæœ¬ï¼ˆenginesï¼‰"><a href="#æŒ‡å®šé¡¹ç›®-node-ç‰ˆæœ¬ï¼ˆenginesï¼‰" class="headerlink" title="æŒ‡å®šé¡¹ç›® node ç‰ˆæœ¬ï¼ˆenginesï¼‰"></a>æŒ‡å®šé¡¹ç›® node ç‰ˆæœ¬ï¼ˆenginesï¼‰</h3><ul>
<li>æœ‰æ—¶å€™ï¼Œæ–°æ‹‰ä¸€ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼Œç”±äºå’Œå…¶ä»–å¼€å‘ä½¿ç”¨çš„ <code>node</code> ç‰ˆæœ¬ä¸åŒï¼Œå¯¼è‡´ä¼šå‡ºç°å¾ˆå¤šå¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼ˆå¦‚æŸäº›ä¾èµ–å®‰è£…æŠ¥é”™ã€ä¾èµ–å®‰è£…å®Œé¡¹ç›®è·‘æ­¥èµ·æ¥ç­‰ï¼‰ã€‚<br><img src="https://user-gold-cdn.xitu.io/2020/5/14/1721282a38c1d9cd?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></li>
<li>ä¸ºäº†å®ç°é¡¹ç›®å¼€ç®±å³ç”¨çš„ä¼Ÿå¤§ç†æƒ³ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ <code>package.json</code> çš„ <code>engines</code> å­—æ®µæ¥æŒ‡å®šé¡¹ç›® node ç‰ˆæœ¬ï¼š</li>
</ul>
<!-- -->

<pre><code>&quot;engines&quot;: {
     &quot;node&quot;: &quot;&gt;= 8.16.0&quot;
  },
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>è¯¥å­—æ®µä¹Ÿå¯ä»¥æŒ‡å®šé€‚ç”¨çš„ <code>npm</code> ç‰ˆæœ¬ï¼š</li>
</ul>
<!-- -->

<pre><code>&quot;engines&quot;: {
     &quot;npm&quot;: &quot;&gt;= 6.9.0&quot;
   },
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œengineså±æ€§ä»…èµ·åˆ°ä¸€ä¸ªè¯´æ˜çš„ä½œç”¨ï¼Œå½“ç”¨æˆ·ç‰ˆæœ¬ä¸ç¬¦åˆæŒ‡å®šå€¼æ—¶ä¹Ÿä¸å½±å“ä¾èµ–çš„å®‰è£…ã€‚</li>
</ul>
<h3 id="è‡ªå®šä¹‰å‘½ä»¤ï¼ˆbinï¼‰"><a href="#è‡ªå®šä¹‰å‘½ä»¤ï¼ˆbinï¼‰" class="headerlink" title="è‡ªå®šä¹‰å‘½ä»¤ï¼ˆbinï¼‰"></a>è‡ªå®šä¹‰å‘½ä»¤ï¼ˆbinï¼‰</h3><ul>
<li>ç”¨è¿‡ <code>vue-cli</code>ï¼Œ<code>create-react-app</code>ç­‰è„šæ‰‹æ¶çš„æœ‹å‹ä»¬ï¼Œä¸çŸ¥é“ä½ ä»¬æœ‰æ²¡æœ‰å¥½å¥‡è¿‡ï¼Œä¸ºä»€ä¹ˆå®‰è£…è¿™äº›è„šæ‰‹æ¶åï¼Œå°±å¯ä»¥ä½¿ç”¨ç±»ä¼¼ <code>vue create</code>/<code>create-react-app</code>ä¹‹ç±»çš„å‘½ä»¤ï¼Œå…¶å®è¿™å’Œ <code>package.json</code> ä¸­çš„ <code>bin</code> å­—æ®µæœ‰å…³ã€‚</li>
<li><code>bin</code> å­—æ®µç”¨æ¥æŒ‡å®šå„ä¸ªå†…éƒ¨å‘½ä»¤å¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®ã€‚å½“<code>package.json</code> æä¾›äº† <code>bin</code> å­—æ®µåï¼Œå³ç›¸å½“äºåšäº†ä¸€ä¸ªå‘½ä»¤åå’Œæœ¬åœ°æ–‡ä»¶åçš„æ˜ å°„ã€‚</li>
<li>å½“ç”¨æˆ·å®‰è£…å¸¦æœ‰ <code>bin</code> å­—æ®µçš„åŒ…æ—¶ï¼Œ<ul>
<li>å¦‚æœæ˜¯å…¨å±€å®‰è£…ï¼Œ<code>npm</code> å°†ä¼šä½¿ç”¨ç¬¦å·é“¾æ¥æŠŠè¿™äº›æ–‡ä»¶é“¾æ¥åˆ°<code>/usr/local/node_modules/.bin/</code>ï¼›</li>
<li>å¦‚æœæ˜¯æœ¬åœ°å®‰è£…ï¼Œä¼šé“¾æ¥åˆ°<code>./node_modules/.bin/</code>ã€‚</li>
</ul>
</li>
<li>ä¸¾ä¸ª ğŸŒ°ï¼Œå¦‚æœè¦ä½¿ç”¨ <code>my-app-cli</code> ä½œä¸ºå‘½ä»¤æ—¶ï¼Œå¯ä»¥é…ç½®ä»¥ä¸‹ <code>bin</code> å­—æ®µï¼š</li>
</ul>
<!-- -->

<pre><code>&quot;bin&quot;: {
    &quot;my-app-cli&quot;: &quot;./bin/cli.js&quot;
  }
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>ä¸Šé¢ä»£ç æŒ‡å®šï¼Œ<code>my-app-cli</code> å‘½ä»¤å¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸º <code>bin</code> å­ç›®å½•ä¸‹çš„ <code>cli.js</code>ï¼Œå› æ­¤åœ¨å®‰è£…äº† <code>my-app-cli</code> åŒ…çš„é¡¹ç›®ä¸­ï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åˆ©ç”¨ <code>npm</code>æ‰§è¡Œè„šæœ¬ï¼š</li>
</ul>
<!-- -->

<pre><code>&quot;scripts&quot;: {
    start: &apos;node node_modules/.bin/my-app-cli&apos;
  }
  å¤åˆ¶ä»£ç </code></pre><p><img src="https://user-gold-cdn.xitu.io/2020/5/14/1721272af3b9cccf?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p>
<ul>
<li>å’¦ï¼Œæ€ä¹ˆçœ‹èµ·æ¥å’Œ <code>vue create</code>/<code>create-react-app</code>ä¹‹ç±»çš„å‘½ä»¤ä¸å¤ªåƒï¼ŸåŸå› ï¼š<ul>
<li>å½“éœ€è¦ <code>node</code> ç¯å¢ƒæ—¶å°±éœ€è¦åŠ ä¸Š <code>node</code> å‰ç¼€</li>
<li>å¦‚æœåŠ ä¸Š <code>node</code> å‰ç¼€ï¼Œå°±éœ€è¦æŒ‡å®š <code>my-app-cli</code> çš„è·¯å¾„ -&gt; <code>node_modules/.bin</code>ï¼Œå¦åˆ™ <code>node my-app-cli</code>ä¼šå»æŸ¥æ‰¾å½“å‰è·¯å¾„ä¸‹çš„ <code>my-app-cli.js</code>ï¼Œè¿™æ ·è‚¯å®šæ˜¯ä¸å¯¹ã€‚</li>
</ul>
</li>
<li>è‹¥è¦å®ç°åƒ <code>vue create</code>/<code>create-react-app</code>ä¹‹ç±»çš„å‘½ä»¤ä¸€æ ·ç®€ä¾¿çš„æ–¹å¼ï¼Œåˆ™å¯ä»¥åœ¨ä¸Šæ–‡æåˆ°çš„ <code>bin</code> å­ç›®å½•ä¸‹å¯æ‰§è¡Œæ–‡ä»¶<code>cli.js</code> ä¸­çš„ç¬¬ä¸€è¡Œå†™å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</li>
</ul>
<!-- -->

<pre><code>#!/usr/bin/env node
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>è¿™è¡Œå‘½ä»¤çš„ä½œç”¨æ˜¯å‘Šè¯‰ç³»ç»Ÿç”¨ <code>node</code> è§£æï¼Œè¿™æ ·å‘½ä»¤å°±å¯ä»¥ç®€å†™æˆ <code>my-app-cli</code> äº†ã€‚</li>
</ul>
<h3 id="React-é¡¹ç›®ç›¸å…³"><a href="#React-é¡¹ç›®ç›¸å…³" class="headerlink" title="React é¡¹ç›®ç›¸å…³"></a>React é¡¹ç›®ç›¸å…³</h3><h4 id="è®¾ç½®åº”ç”¨æ ¹è·¯å¾„ï¼ˆhomepageï¼‰"><a href="#è®¾ç½®åº”ç”¨æ ¹è·¯å¾„ï¼ˆhomepageï¼‰" class="headerlink" title="è®¾ç½®åº”ç”¨æ ¹è·¯å¾„ï¼ˆhomepageï¼‰"></a>è®¾ç½®åº”ç”¨æ ¹è·¯å¾„ï¼ˆhomepageï¼‰</h4><ul>
<li>å½“æˆ‘ä»¬ä½¿ç”¨ <code>create-react-app</code> è„šæ‰‹æ¶æ­å»ºçš„ <code>React</code> é¡¹ç›®ï¼Œé»˜è®¤æ˜¯ä½¿ç”¨å†…ç½®çš„ <code>webpack</code> é…ç½®ï¼Œå½“<code>package.json</code> ä¸­ä¸é…ç½® <code>homepage</code> å±æ€§æ—¶ï¼Œbuild æ‰“åŒ…ä¹‹åçš„æ–‡ä»¶èµ„æºåº”ç”¨è·¯å¾„é»˜è®¤æ˜¯ <code>/</code>ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src="https://user-gold-cdn.xitu.io/2020/5/14/17212d519e0d2bd6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></li>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬æ‰“åŒ…çš„é™æ€èµ„æºä¼šéƒ¨ç½²åœ¨ <code>CDN</code> ä¸Šï¼Œä¸ºäº†è®©æˆ‘ä»¬çš„åº”ç”¨çŸ¥é“å»å“ªé‡ŒåŠ è½½èµ„æºï¼Œåˆ™éœ€è¦æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªæ ¹è·¯å¾„ï¼Œè¿™æ—¶å¯ä»¥é€šè¿‡ <code>package.json</code> ä¸­çš„ <code>homepage</code> å­—æ®µè®¾ç½®åº”ç”¨çš„æ ¹è·¯å¾„ã€‚</li>
<li>å½“æˆ‘ä»¬è®¾ç½®äº† <code>homepage</code> å±æ€§åï¼š</li>
</ul>
<!-- -->

<pre><code>{
    &quot;homepage&quot;: &quot;https://xxxx.cdn/my-project&quot;,
  }
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>æ‰“åŒ…åçš„èµ„æºè·¯å¾„å°±ä¼šåŠ ä¸Š <code>homepage</code> çš„åœ°å€ï¼š<br><img src="https://user-gold-cdn.xitu.io/2020/5/14/17212d9d11f9fdb0?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></li>
</ul>
<h4 id="å¼€å‘ç¯å¢ƒè§£å†³è·¨åŸŸé—®é¢˜ï¼ˆproxyï¼‰"><a href="#å¼€å‘ç¯å¢ƒè§£å†³è·¨åŸŸé—®é¢˜ï¼ˆproxyï¼‰" class="headerlink" title="å¼€å‘ç¯å¢ƒè§£å†³è·¨åŸŸé—®é¢˜ï¼ˆproxyï¼‰"></a>å¼€å‘ç¯å¢ƒè§£å†³è·¨åŸŸé—®é¢˜ï¼ˆproxyï¼‰</h4><ul>
<li>åœ¨åšå‰åç«¯åˆ†ç¦»çš„é¡¹ç›®çš„æ—¶å€™ï¼Œè°ƒç”¨æ¥å£æ—¶åˆ™ä¼šé‡åˆ°è·¨åŸŸçš„é—®é¢˜ï¼Œå½“åœ¨å¼€å‘ç¯å¢ƒä¸­æ—¶ï¼Œå¯ä»¥é€šè¿‡é…ç½® <code>package.json</code> ä¸­çš„ <code>proxy</code> æ¥è§£å†³è·¨åŸŸé—®é¢˜ï¼Œé…ç½®å¦‚ä¸‹ï¼š</li>
</ul>
<!-- -->

<pre><code>{
    &quot;proxy&quot;: &quot;http://localhost:4000&quot;  // é…ç½®ä½ è¦è¯·æ±‚çš„æœåŠ¡å™¨åœ°å€
  }
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>æ³¨æ„ï¼Œå½“ <code>create-react-app</code> çš„ç‰ˆæœ¬é«˜äº 2.0 ç‰ˆæœ¬çš„æ—¶å€™åœ¨ <code>package.json</code> ä¸­åªèƒ½é…ç½® <code>string</code> ç±»å‹ï¼Œè¿™æ„å‘³ç€å¦‚æœè¦ä½¿ç”¨ <code>package.json</code> æ¥è§£å†³è·¨åŸŸé—®é¢˜ï¼Œåˆ™åªèƒ½ä»£ç†ä¸€ä¸ªæœåŠ¡å™¨åœ°å€ã€‚</li>
<li>å¦‚æœè¦ä»£ç†å¤šä¸ªæœåŠ¡å™¨åœ°å€æ—¶ï¼Œåˆ™éœ€è¦å®‰è£… <code>http-proxy-middleware</code> ï¼Œåœ¨ <code>src</code> ç›®å½•ä¸‹æ–°å»º <code>setupProxy.js</code> ï¼š</li>
</ul>
<!-- -->

<pre><code>const proxy = require(&quot;http-proxy-middleware&quot;);

  module.exports = function(app) {
    app.use(
      proxy(&quot;/base&quot;, {
        target: &quot;http://localhost:4000&quot;,
        changeOrigin: true
      })
    );
    app.use(
      proxy(&quot;/fans&quot;, {
        target: &quot;http://localhost:5000&quot;,
        changeOrigin: true
      })
    );
  };
  å¤åˆ¶ä»£ç </code></pre><h4 id="æ ¹æ®å¼€å‘ç¯å¢ƒé‡‡ç”¨ä¸åŒçš„å…¨å±€å˜é‡å€¼ï¼ˆè‡ªå®šä¹‰å­—æ®µï¼‰"><a href="#æ ¹æ®å¼€å‘ç¯å¢ƒé‡‡ç”¨ä¸åŒçš„å…¨å±€å˜é‡å€¼ï¼ˆè‡ªå®šä¹‰å­—æ®µï¼‰" class="headerlink" title="æ ¹æ®å¼€å‘ç¯å¢ƒé‡‡ç”¨ä¸åŒçš„å…¨å±€å˜é‡å€¼ï¼ˆè‡ªå®šä¹‰å­—æ®µï¼‰"></a>æ ¹æ®å¼€å‘ç¯å¢ƒé‡‡ç”¨ä¸åŒçš„å…¨å±€å˜é‡å€¼ï¼ˆè‡ªå®šä¹‰å­—æ®µï¼‰</h4><ul>
<li>å‡è®¾æœ‰è¿™ä¹ˆä¸€ä¸ªç»„ä»¶ï¼Œå½“ç»„ä»¶è¢«ç‚¹å‡»æ—¶ï¼Œåœ¨å¼€å‘ç¯å¢ƒæ—¶æ˜¯è·³è½¬æµ‹è¯•ç¯å¢ƒçš„ <code>sentry</code> åœ°å€ï¼Œåœ¨æ­£å¼ç¯å¢ƒæ—¶åˆ™è·³è½¬æ­£å¼ç¯å¢ƒçš„ <code>sentry</code> åœ°å€ã€‚</li>
<li>é¦–å…ˆï¼Œé€šè¿‡é…ç½®å‰é¢æåˆ°çš„ <code>scripts</code> å­—æ®µï¼Œå®ç°ç¯å¢ƒå˜é‡ï¼ˆNODE_ENVï¼‰çš„è®¾ç½®ï¼š</li>
</ul>
<!-- -->

<pre><code>&quot;scripts&quot;: {
    &quot;start&quot;: &quot;NODE_ENV=development node scripts/start.js&quot;,
    &quot;build&quot;: &quot;NODE_ENV=production node scripts/build.js&quot;,
  },
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>é¡¹ç›®å¯åŠ¨èµ·æ¥åï¼Œåœ¨ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>process.env.NODE_ENV</code> è®¿é—®åˆ° <code>NODE_ENV</code> çš„å€¼ã€‚</li>
</ul>
<h5 id="æ–¹æ¡ˆä¸€"><a href="#æ–¹æ¡ˆä¸€" class="headerlink" title="æ–¹æ¡ˆä¸€"></a>æ–¹æ¡ˆä¸€</h5><ul>
<li>æˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ä¸­å†™ç±»ä¼¼ä»¥ä¸‹çš„åˆ¤æ–­ä»£ç ï¼Œæ ¹æ®ä¸åŒç¯å¢ƒç»™ <code>sentryUrl</code> è®¾ç½®ä¸åŒçš„å€¼ï¼š</li>
</ul>
<!-- -->

<pre><code>let sentryUrl;
  if (process.env.NODE_ENV === &apos;development&apos;) {
      sentryUrl = &apos;test-sentry.xxx.com&apos;;
  } else {
      sentryUrl = &apos;sentry.xxx.com&apos;;
  }
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>è¿™ä¹ˆåšå¥½åƒæ²¡æ¯›ç—…ï¼Œä½†æ˜¯æ·±å…¥ä¸€æƒ³ï¼Œå¦‚æœæœ‰å¤šä¸ªç»„ä»¶ï¼Œè¦æ ¹æ®ä¸åŒçš„ç¯å¢ƒä½¿ç”¨ä¸åŒçš„æœåŠ¡ï¼ˆå¤šç§æœåŠ¡ï¼‰åœ°å€ï¼Œå¦‚æœæŒ‰ç…§ä¸Šé¢çš„å†™æ³•ï¼Œé¡¹ç›®ä¸­å°†å­˜åœ¨è®¸å¤šé‡å¤çš„åˆ¤æ–­ä»£ç ï¼Œä¸”å½“æœåŠ¡åœ°å€å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒåŒ…å«è¿™äº›æœåŠ¡åœ°å€çš„ç»„ä»¶éƒ½éœ€è¦ç›¸åº”çš„åšæ”¹åŠ¨ï¼Œè¿™æ ·æ˜æ˜¾æ˜¯ä¸åˆç†çš„ã€‚<br><img src="https://user-gold-cdn.xitu.io/2020/5/14/172130840649cd87?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></li>
</ul>
<h5 id="æ–¹æ¡ˆäºŒ"><a href="#æ–¹æ¡ˆäºŒ" class="headerlink" title="æ–¹æ¡ˆäºŒ"></a>æ–¹æ¡ˆäºŒ</h5><ul>
<li>è§£å†³æ–¹æ¡ˆï¼šç›¸å…³æœåŠ¡çš„åœ°å€é…ç½®åœ¨ <code>package.json</code>ä¸­ï¼ŒåŒæ—¶ä¿®æ”¹é¡¹ç›®çš„ <code>webpack</code> é…ç½®ã€‚</li>
<li>æ³¨ï¼šä¿®æ”¹é¡¹ç›®çš„ <code>webpack</code> é…ç½®éœ€è¦ eject é¡¹ç›®çš„ <code>webpack</code> é…ç½®ï¼ˆæ›´å¤šç»†èŠ‚å¯é˜…è¯» ï¼š<a href="https://juejin.im/post/5d5e25b5f265da03970bbf82" target="_blank" rel="noopener">react + typescript é¡¹ç›®çš„å®šåˆ¶åŒ–è¿‡ç¨‹</a>ï¼‰ã€‚</li>
<li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ä½¿ç”¨ <code>yarn eject</code> æˆåŠŸ eject å‡ºé…ç½®åï¼Œå¯ä»¥å‘ç°é¡¹ç›®ç›®å½•çš„å˜åŒ–å¦‚ä¸‹ï¼š<br><img src="https://user-gold-cdn.xitu.io/2020/5/14/17213101be031e97?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></li>
<li>å¦‚æœéœ€è¦å®šåˆ¶åŒ–é¡¹ç›®ï¼Œä¸€èˆ¬å°±æ˜¯åœ¨ <code>config</code> ç›®å½•ä¸‹å¯¹é»˜è®¤çš„ <code>webpack</code> é…ç½®è¿›è¡Œä¿®æ”¹ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦å…³æ³¨ <code>config/path.js</code> å’Œ <code>config/env.js</code> ä¸¤ä¸ªæ–‡ä»¶ï¼š<ul>
<li><code>env.js</code> çš„ä¸»è¦ç›®çš„åœ¨äºè¯»å– <code>env</code> é…ç½®æ–‡ä»¶å¹¶å°† <code>env</code> çš„é…ç½®ä¿¡æ¯ç»™åˆ°å…¨å±€å˜é‡ <code>process.env</code> ï¼›</li>
<li><code>path.js</code> çš„ä¸»è¦ç›®çš„åœ¨äºä¸ºé¡¹ç›®æä¾›å„ç§è·¯å¾„ï¼ŒåŒ…æ‹¬æ„å»ºè·¯å¾„ã€ <code>public</code> è·¯å¾„ç­‰ã€‚</li>
</ul>
</li>
<li>ç”±äºæœ¬æ–‡çš„é‡ç‚¹ä¸æ˜¯å­¦ä¹  <code>webpack</code> é…ç½®ï¼Œè¿™é‡Œä»…ä»‹ç»å¦‚ä½•å®ç°ã€æ ¹æ®å¼€å‘ç¯å¢ƒé‡‡ç”¨ä¸åŒçš„å…¨å±€å˜é‡å€¼ã€‘çš„åŠŸèƒ½ã€‚</li>
<li>é¦–å…ˆï¼Œéœ€è¦åœ¨ <code>package.json</code> ä¸­é…ç½®ä»¥ä¸‹å†…å®¹ï¼š</li>
</ul>
<!-- -->

<pre><code>&quot;scripts&quot;: {
    &quot;start&quot;: &quot;NODE_ENV=development node scripts/start.js&quot;,
    &quot;build&quot;: &quot;NODE_ENV=production node scripts/build.js&quot;,
  },
  &quot;sentryPath&quot;: {
    &quot;dev&quot;: &quot;https://test-sentry.xxx.com&quot;,
    &quot;prod&quot;: &quot;https://sentry.xxx.com&quot;
   }
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>ç„¶åï¼Œä¿®æ”¹ <code>path.js</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</li>
</ul>
<!-- -->

<pre><code>// é‡å†™ getPublicUrl æ–¹æ³•
  const getPublicUrl = (appPackageJson, pathName) =&gt; {
    let path;
    switch (process.env.DEPLOY_ENV) {
      case &apos;development&apos;:
        path = require(appPackageJson)[pathName].dev;
        break;
      case &apos;production&apos;:
        path = require(appPackageJson)[pathName].prod;
        break;
      default:
        path = envPublicUrl || require(appPackageJson).homepage;
    }
    return path;
  }

  // æ–°å¢ getSentryPath æ–¹æ³•
  const getSentryPath = (appPackageJson) =&gt; {
    return getPublicUrl(appPackageJson, &apos;sentryPath&apos;);
  }

  // config after eject: we&apos;re in ./config/
  module.exports = {
    ...,
    sentryUrl: getSentryPath(resolveApp(&apos;package.json&apos;)), // æ–°å¢
  };
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>æœ€åï¼Œä¿®æ”¹ <code>env.js</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</li>
</ul>
<!-- -->

<pre><code>// ä¿®æ”¹ getClientEnvironment æ–¹æ³•
  function getClientEnvironment(publicUrl) {
    const raw = Object.keys(process.env)
      .filter(key =&gt; REACT_APP.test(key))
      .reduce(
        (env, key) =&gt; {
          ...
        },
        {
          NODE_ENV: process.env.NODE_ENV || &apos;development&apos;,
          PUBLIC_URL: publicUrl,
          SENTRY_URL: paths.sentryUrl // æ–°å¢
        }
      );

    const stringified = {
      ...
    };
    return { raw, stringified };
  }
  å¤åˆ¶ä»£ç </code></pre><ul>
<li>é€šè¿‡ä¸Šé¢çš„é…ç½®ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ç»„ä»¶ä¸­é€šè¿‡ <code>process.env.SENTRY_URL</code> è·å–åˆ° <code>sentry</code> æœåŠ¡çš„åœ°å€äº†ï¼Œè™½ç„¶çœ‹èµ·æ¥æ¯”æ–¹æ¡ˆä¸€ç¹çï¼Œä½†æ˜¯è¿™ç§æ”¶ç›Šæ˜¯é•¿æœŸçš„ï¼Œå¦‚è¦æ–°å¢ä¸€ä¸ª <code>sonarqube</code> æœåŠ¡ï¼ŒåŒç†å®ç°å³å¯ï¼Œé€šè¿‡ä½¿ç”¨ <code>package.json</code> ä¹Ÿå¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°å½“å‰æœåŠ¡åœ¨ä¸åŒç¯å¢ƒä¸‹ä½¿ç”¨çš„åœ°å€ã€‚</li>
</ul>
<h2 id="æ€»ç»“-ğŸ‘€"><a href="#æ€»ç»“-ğŸ‘€" class="headerlink" title="æ€»ç»“ ğŸ‘€"></a>æ€»ç»“ ğŸ‘€</h2><ul>
<li>æœ¬æ–‡ä»‹ç»äº† <code>package.json</code> çš„å¤šç§å¸¸è§çš„é…ç½®å­—æ®µåŠä½œç”¨ï¼Œå¹¶é€šè¿‡ä¾‹å­åŠ æ·±å¤§å®¶å¯¹ <code>package.json</code>è¿™äº›å­—æ®µçš„ç†è§£ã€‚</li>
<li>é™¤äº†ä¸€äº›å¸¸ç”¨å­—æ®µï¼Œè¿˜ä»‹ç»äº†åœ¨<code>React</code> é¡¹ç›®ä¸­ <code>package.json</code> æ–‡ä»¶èƒ½å®ç°çš„ä¸€äº›åŠŸèƒ½è¿›è¡Œä»‹ç»ã€‚</li>
</ul>
<h2 id="å‚è€ƒèµ„æ–™-ğŸ“–"><a href="#å‚è€ƒèµ„æ–™-ğŸ“–" class="headerlink" title="å‚è€ƒèµ„æ–™ ğŸ“–"></a>å‚è€ƒèµ„æ–™ ğŸ“–</h2><ol>
<li><a href="https://docs.npmjs.com/creating-a-package-json-file" target="_blank" rel="noopener">Creating a package.json file</a></li>
<li><a href="https://www.cnblogs.com/mrzhu/p/10246464.html" target="_blank" rel="noopener">package.json binçš„ä½œç”¨</a></li>
<li><a href="https://www.html.cn/create-react-app/docs/proxying-api-requests-in-development/" target="_blank" rel="noopener">åœ¨å¼€å‘ç¯å¢ƒä¸­ä»£ç† API è¯·æ±‚</a></li>
<li><a href="https://juejin.im/post/5d5e25b5f265da03970bbf82" target="_blank" rel="noopener">react + typescript é¡¹ç›®çš„å®šåˆ¶åŒ–è¿‡ç¨‹</a></li>
<li><a href="https://blog.csdn.net/qq_27384769/article/details/78574229?utm_source=blogxgwz8" target="_blank" rel="noopener">Reactå­¦ä¹ ç¬”è®°</a></li>
</ol>
<p>è½¬è½½è‡ªæ˜é‡‘ç½‘ï¼šå‰ç«¯å°é»‘</p>
</div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/nodejs/">nodejs</a><a class="post-meta__tags" href="/tags/package-json/">package.json</a><a class="post-meta__tags" href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">ç¯å¢ƒé…ç½®</a></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/lin_risheng/assetOne/raw/master/images/hexo_logo.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="next-post pull-full"><a href="/2020/05/15/Hexo%E4%BD%BF%E7%94%A8SSH%E8%BF%9E%E6%8E%A5GitHub/"><img class="next_cover" src="https://gitee.com/lin_risheng/assetOne/raw/master/images/hexo_logo.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Hexoä½¿ç”¨SSHè¿æ¥GitHub</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/01/05/Nodejsåç«¯æ¶æ„åŸºç¡€ä¸æ¡ˆä¾‹/" title="Nodejsåç«¯æ¶æ„åŸºç¡€ä¸æ¡ˆä¾‹"><img class="relatedPosts_cover" src="https://gitee.com/lin_risheng/assetOne/raw/master/images/nodejs_logo.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-01-05</div><div class="relatedPosts_title">Nodejsåç«¯æ¶æ„åŸºç¡€ä¸æ¡ˆä¾‹</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div id="lv-container" data-id="city" data-uid="MTAyMC81MDA4NC8yNjU3NA=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By codeLinR</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç®€</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script></body></html>